{"ast":null,"code":"// NPM Modules\nimport Axios from 'axios';\nimport Querystring from 'querystring'; // Material UI\n// Own modules\n\nimport Session from '../models/Session'; // Assets\n// CSS\n// Endpoint\n\nconst API_URL = \"\".concat(process.env.REACT_APP_API_URL, \"/authenticate\");\n/**\n* Objeto API\n*/\n\nexport default {\n  /**\n  * Trata de hacer login contra el API\n  */\n  login: (login, password) => {\n    // Endpoint\n    let baseURL = \"\".concat(API_URL); // Call endpoint and return\n\n    return Axios.post(baseURL, Querystring.stringify({\n      login,\n      password\n    }), {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(res => new Session(res.data.user));\n  },\n\n  /**\n  * Trata de hacer login contra el API\n  */\n  loginWithToken: jwt => {\n    // Endpoint\n    let baseURL = \"\".concat(API_URL, \"/token\"); // Call endpoint and return\n\n    return Axios.post(baseURL, {\n      headers: {\n        'Authorization': \"Bearer \".concat(jwt)\n      }\n    }).then(res => new Session(res.data.user));\n  },\n\n  /**\n  * Trata de hacer login contra el API\n  */\n  logout: jwt => {\n    // Endpoint\n    let baseURL = \"\".concat(API_URL, \"/logout\"); // Call endpoint and return\n\n    return Axios.post(baseURL, {\n      headers: {\n        'Authorization': \"Bearer \".concat(jwt)\n      }\n    }).then(res => 'JWT invalidated');\n  },\n\n  /**\n  * Solicita reseteo de contraseña\n  */\n  activate: token => {\n    // Endpoint\n    let baseURL = \"\".concat(API_URL, \"/activate/\").concat(token); // Call endpoint and return\n\n    return Axios.get(baseURL).then(res => res);\n  },\n\n  /**\n  * Solicita reseteo de contraseña\n  */\n  resetRequest: email => {\n    // Endpoint\n    let baseURL = \"\".concat(API_URL, \"/reset\"); // Call endpoint and return\n\n    return Axios.post(baseURL, Querystring.stringify({\n      email\n    }), {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(res => res);\n  },\n\n  /**\n  * Resetea la contraseña\n  */\n  reset: (token, password) => {\n    // Endpoint\n    let baseURL = \"\".concat(API_URL, \"/reset/\").concat(token); // Call endpoint and return\n\n    return Axios.post(baseURL, Querystring.stringify({\n      password\n    }), {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    }).then(res => res);\n  }\n};","map":{"version":3,"sources":["C:\\Users\\Administrator\\Downloads\\keepcoding-wallaclone-master\\frontend\\src\\services\\AuthServices.js"],"names":["Axios","Querystring","Session","API_URL","process","env","REACT_APP_API_URL","login","password","baseURL","post","stringify","headers","then","res","data","user","loginWithToken","jwt","logout","activate","token","get","resetRequest","email","reset"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,aAAxB,C,CACA;AACA;;AACA,OAAOC,OAAP,MAAoB,mBAApB,C,CACA;AACA;AAEA;;AACA,MAAMC,OAAO,aAAMC,OAAO,CAACC,GAAR,CAAYC,iBAAlB,kBAAb;AAEA;;;;AAGA,eAAe;AAEb;;;AAGAC,EAAAA,KAAK,EAAE,CAACA,KAAD,EAAQC,QAAR,KAAqB;AAC1B;AACA,QAAIC,OAAO,aAAMN,OAAN,CAAX,CAF0B,CAG1B;;AACA,WAAOH,KAAK,CAACU,IAAN,CACLD,OADK,EAELR,WAAW,CAACU,SAAZ,CAAsB;AAAEJ,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAtB,CAFK,EAGL;AAAEI,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAAX,KAHK,EAKNC,IALM,CAKDC,GAAG,IAAI,IAAIZ,OAAJ,CAAYY,GAAG,CAACC,IAAJ,CAASC,IAArB,CALN,CAAP;AAMD,GAfY;;AAiBb;;;AAGAC,EAAAA,cAAc,EAAGC,GAAD,IAAS;AACvB;AACA,QAAIT,OAAO,aAAMN,OAAN,WAAX,CAFuB,CAGvB;;AACA,WAAOH,KAAK,CAACU,IAAN,CAAWD,OAAX,EAAqB;AAAEG,MAAAA,OAAO,EAAE;AAAE,0CAA2BM,GAA3B;AAAF;AAAX,KAArB,EACNL,IADM,CACDC,GAAG,IAAI,IAAIZ,OAAJ,CAAYY,GAAG,CAACC,IAAJ,CAASC,IAArB,CADN,CAAP;AAED,GA1BY;;AA4Bb;;;AAGAG,EAAAA,MAAM,EAAGD,GAAD,IAAS;AACf;AACA,QAAIT,OAAO,aAAMN,OAAN,YAAX,CAFe,CAGf;;AACA,WAAOH,KAAK,CAACU,IAAN,CACLD,OADK,EAEL;AAAEG,MAAAA,OAAO,EAAE;AAAE,0CAA2BM,GAA3B;AAAF;AAAX,KAFK,EAINL,IAJM,CAIDC,GAAG,IAAI,iBAJN,CAAP;AAKD,GAxCY;;AA0Cb;;;AAGAM,EAAAA,QAAQ,EAAGC,KAAD,IAAW;AACnB;AACA,QAAIZ,OAAO,aAAMN,OAAN,uBAA0BkB,KAA1B,CAAX,CAFmB,CAGnB;;AACA,WAAOrB,KAAK,CAACsB,GAAN,CACLb,OADK,EAGNI,IAHM,CAGDC,GAAG,IAAIA,GAHN,CAAP;AAID,GArDY;;AAuDb;;;AAGAS,EAAAA,YAAY,EAAGC,KAAD,IAAW;AACvB;AACA,QAAIf,OAAO,aAAMN,OAAN,WAAX,CAFuB,CAGvB;;AACA,WAAOH,KAAK,CAACU,IAAN,CACLD,OADK,EAELR,WAAW,CAACU,SAAZ,CAAsB;AAAEa,MAAAA;AAAF,KAAtB,CAFK,EAGL;AAAEZ,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAAX,KAHK,EAKNC,IALM,CAKDC,GAAG,IAAIA,GALN,CAAP;AAMD,GApEY;;AAsEb;;;AAGAW,EAAAA,KAAK,EAAE,CAACJ,KAAD,EAAQb,QAAR,KAAqB;AAC1B;AACA,QAAIC,OAAO,aAAMN,OAAN,oBAAuBkB,KAAvB,CAAX,CAF0B,CAG1B;;AACA,WAAOrB,KAAK,CAACU,IAAN,CACLD,OADK,EAELR,WAAW,CAACU,SAAZ,CAAsB;AAAEH,MAAAA;AAAF,KAAtB,CAFK,EAGL;AAAEI,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB;AAAX,KAHK,EAKNC,IALM,CAKDC,GAAG,IAAIA,GALN,CAAP;AAMD;AAnFY,CAAf","sourcesContent":["// NPM Modules\nimport Axios from 'axios';\nimport Querystring from 'querystring';\n// Material UI\n// Own modules\nimport Session from '../models/Session';\n// Assets\n// CSS\n\n// Endpoint\nconst API_URL = `${process.env.REACT_APP_API_URL}/authenticate`;\n\n/**\n* Objeto API\n*/\nexport default {\n  \n  /**\n  * Trata de hacer login contra el API\n  */\n  login: (login, password) => {\n    // Endpoint\n    let baseURL = `${API_URL}`;\n    // Call endpoint and return\n    return Axios.post(\n      baseURL, \n      Querystring.stringify({ login, password }),\n      { headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" } }\n    )\n    .then(res => new Session(res.data.user));\n  },\n\n  /**\n  * Trata de hacer login contra el API\n  */\n  loginWithToken: (jwt) => {\n    // Endpoint\n    let baseURL = `${API_URL}/token`;\n    // Call endpoint and return\n    return Axios.post(baseURL,  { headers: { 'Authorization': `Bearer ${jwt}`}})\n    .then(res => new Session(res.data.user));\n  },\n\n  /**\n  * Trata de hacer login contra el API\n  */\n  logout: (jwt) => {\n    // Endpoint\n    let baseURL = `${API_URL}/logout`;\n    // Call endpoint and return\n    return Axios.post(\n      baseURL, \n      { headers: { 'Authorization': `Bearer ${jwt}`} }\n    )\n    .then(res => 'JWT invalidated');\n  },\n\n  /**\n  * Solicita reseteo de contraseña\n  */\n  activate: (token) => {\n    // Endpoint\n    let baseURL = `${API_URL}/activate/${token}`;\n    // Call endpoint and return\n    return Axios.get(\n      baseURL,\n    )\n    .then(res => res);\n  },\n\n  /**\n  * Solicita reseteo de contraseña\n  */\n  resetRequest: (email) => {\n    // Endpoint\n    let baseURL = `${API_URL}/reset`;\n    // Call endpoint and return\n    return Axios.post(\n      baseURL, \n      Querystring.stringify({ email }),\n      { headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" } }\n    )\n    .then(res => res);\n  },\n\n  /**\n  * Resetea la contraseña\n  */\n  reset: (token, password) => {\n    // Endpoint\n    let baseURL = `${API_URL}/reset/${token}`;\n    // Call endpoint and return\n    return Axios.post(\n      baseURL, \n      Querystring.stringify({ password }),\n      { headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" } }\n    )\n    .then(res => res);\n  },\n}"]},"metadata":{},"sourceType":"module"}