{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\keepcoding-wallaclone-master\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatTitle\\\\ChatTitle.js\";\n// NPM Modules\nimport React from 'react';\nimport Moment from 'react-moment';\nimport PropTypes from 'prop-types'; // Material UI\n\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder'; // Components\n// Own modules\n\nimport i18n from '../../../utils/i18n'; // Models\n\nimport { ADVERT_CONSTANTS as CONSTANTS } from '../../../models/Advert'; // Assets\n// CSS\n\nimport './styles.css';\nimport Chat from '../../../models/Chat'; // Component to render a Chat panel\n\nexport default function ChatTitle(props) {\n  // Destructure props\n  const active = props.active,\n        chat = props.chat,\n        owner = props.owner;\n  const onChatSelected = props.onChatSelected,\n        t = props.t;\n  const status = chat.advert.sold ? CONSTANTS.STATUS.SOLD : CONSTANTS.STATUS.BOOKED;\n  let last = t('empty chat...');\n\n  if (chat.messages.length) {\n    last = \"\".concat(chat.messages[chat.messages.length - 1].text.substring(0, 25), \"...\");\n  }\n\n  const clickHandler = () => onChatSelected(chat._id);\n\n  return React.createElement(\"article\", {\n    className: \"CardChat \".concat(active ? 'CardChat--active' : ''),\n    onClick: clickHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"figure\", {\n    className: \"CardChat__Figure\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"CardChat__Img\",\n    src: chat.advert.thumbnail,\n    alt: \"thumbnail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), (chat.advert.sold || chat.advert.booked) && React.createElement(\"span\", {\n    className: \"CardChat__Type\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(BookmarkBorderIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), t(status))), React.createElement(\"figcaption\", {\n    className: \"CardChat__Body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"CardChat__User\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, owner.name), React.createElement(Moment, {\n    className: \"AdvertDetail__Date\",\n    locale: i18n.language,\n    format: \"MMM D YYYY\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, chat.createdAt)), React.createElement(\"h3\", {\n    className: \"CardChat__Title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"\".concat(chat.advert.name.substring(0, 20)).concat(chat.advert.name.length > 20 ? '...' : '')), React.createElement(\"p\", {\n    className: \"CardChat__LastChat\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, last)));\n}\nChatTitle.propTypes = {\n  active: PropTypes.bool.isRequired,\n  chat: PropTypes.instanceOf(Chat),\n  owner: PropTypes.object.isRequired,\n  onChatSelected: PropTypes.func.isRequired,\n  t: PropTypes.func.isRequired\n};","map":{"version":3,"sources":["C:\\Users\\Administrator\\Downloads\\keepcoding-wallaclone-master\\frontend\\src\\components\\chat\\ChatTitle\\ChatTitle.js"],"names":["React","Moment","PropTypes","BookmarkBorderIcon","i18n","ADVERT_CONSTANTS","CONSTANTS","Chat","ChatTitle","props","active","chat","owner","onChatSelected","t","status","advert","sold","STATUS","SOLD","BOOKED","last","messages","length","text","substring","clickHandler","_id","thumbnail","booked","name","language","createdAt","propTypes","bool","isRequired","instanceOf","object","func"],"mappings":"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","sourcesContent":["// NPM Modules\nimport React from 'react';\nimport Moment from 'react-moment';\nimport PropTypes from 'prop-types';\n// Material UI\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\n// Components\n// Own modules\nimport i18n from '../../../utils/i18n';\n// Models\nimport { ADVERT_CONSTANTS as CONSTANTS } from '../../../models/Advert';\n// Assets\n// CSS\nimport './styles.css';\nimport Chat from '../../../models/Chat';\n\n\n// Component to render a Chat panel\nexport default function ChatTitle(props) {\n\n    // Destructure props\n    const { active, chat, owner } = props;\n    const { onChatSelected, t } = props;\n    \n    const status = chat.advert.sold?CONSTANTS.STATUS.SOLD:CONSTANTS.STATUS.BOOKED;\n    let last = t('empty chat...');\n    if (chat.messages.length) {\n        last = `${chat.messages[chat.messages.length-1].text.substring(0,25)}...`;\n    }\n\n    const clickHandler = () => onChatSelected(chat._id);\n\n    return (\n        <article className={`CardChat ${active?'CardChat--active':''}`} onClick={clickHandler}>\n            <figure className='CardChat__Figure'>\n                <img className='CardChat__Img' src={chat.advert.thumbnail} alt='thumbnail'></img>\n                { (chat.advert.sold || chat.advert.booked) && <span className='CardChat__Type'><BookmarkBorderIcon/>{t(status)}</span> }\n            </figure>\n            <figcaption className='CardChat__Body'>\n                <div className='CardChat__User'>\n                    <p>{owner.name}</p>\n                    <Moment className='AdvertDetail__Date' locale={i18n.language} format='MMM D YYYY'>{chat.createdAt}</Moment>\n                </div>\n                <h3 className='CardChat__Title'>{`${chat.advert.name.substring(0,20)}${chat.advert.name.length>20?'...':''}`}</h3>\n                <p className='CardChat__LastChat'>{last}</p>    \n            </figcaption>\n        </article>\n    );\n}\n\nChatTitle.propTypes = {\n    active: PropTypes.bool.isRequired,\n    chat: PropTypes.instanceOf(Chat),\n    owner: PropTypes.object.isRequired,\n    onChatSelected: PropTypes.func.isRequired,\n    t: PropTypes.func.isRequired,\n}"]},"metadata":{},"sourceType":"module"}