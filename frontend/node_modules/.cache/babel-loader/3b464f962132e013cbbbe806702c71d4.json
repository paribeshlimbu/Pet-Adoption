{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\PetAdoption\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Imports\nimport * as TYPES from '../types/SocketIoTypes';\nimport { initialState } from '../InitialState';\n/**\n * Reducer para gestionar las acciones sobre onlineUsers\n * @param {Array} state Chats\n * @param {Object} action Action\n */\n\nexport function socketIo(state = initialState.socketIo, action) {\n  switch (action.type) {\n    case TYPES.SOCKETIO_CONNECT:\n    case TYPES.SOCKETIO_DISCONNECT:\n      return initialState.socketIo;\n\n    case TYPES.SOCKETIO_CONNECTED_USER:\n      return _objectSpread({}, initialState.socketIo, {\n        online: true\n      });\n\n    case TYPES.SOCKETIO_DISCONNECTED_USER:\n      return initialState.socketIo;\n\n    case TYPES.SOCKETIO_ALL_ONLINE_USERS:\n      return _objectSpread({}, state, {\n        online: true,\n        onlineUsers: [...action.onlineUsers]\n      });\n\n    case TYPES.SOCKETIO_ONLINE_USER:\n      {\n        const i = state.onlineUsers.indexOf(action.login);\n        let auxOnlineUsers = [...state.onlineUsers];\n        if (i < 0) auxOnlineUsers = [...state.onlineUsers, action.login];\n        return _objectSpread({}, state, {\n          onlineUsers: auxOnlineUsers\n        });\n      }\n\n    case TYPES.SOCKETIO_OFFLINE_USER:\n      {\n        const i = state.onlineUsers.indexOf(action.login);\n        let auxOnlineUsers = [...state.onlineUsers];\n        if (i >= 0) auxOnlineUsers = [...state.onlineUsers.slice(0, i), ...state.onlineUsers.slice(i + 1)];\n        return _objectSpread({}, state, {\n          onlineUsers: auxOnlineUsers\n        });\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\PetAdoption\\frontend\\src\\store\\reducers\\SocketIoReducers.js"],"names":["TYPES","initialState","socketIo","state","action","type","SOCKETIO_CONNECT","SOCKETIO_DISCONNECT","SOCKETIO_CONNECTED_USER","online","SOCKETIO_DISCONNECTED_USER","SOCKETIO_ALL_ONLINE_USERS","onlineUsers","SOCKETIO_ONLINE_USER","i","indexOf","login","auxOnlineUsers","SOCKETIO_OFFLINE_USER","slice"],"mappings":";;;;;;AAAA;AACA,OAAO,KAAKA,KAAZ,MAAuB,wBAAvB;AACA,SAASC,YAAT,QAA6B,iBAA7B;AAEA;;;;;;AAKA,OAAO,SAASC,QAAT,CAAkBC,KAAK,GAAGF,YAAY,CAACC,QAAvC,EAAiDE,MAAjD,EAAyD;AAC5D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKL,KAAK,CAACM,gBAAX;AACA,SAAKN,KAAK,CAACO,mBAAX;AACI,aAAON,YAAY,CAACC,QAApB;;AACJ,SAAKF,KAAK,CAACQ,uBAAX;AACI,+BAAYP,YAAY,CAACC,QAAzB;AAAmCO,QAAAA,MAAM,EAAE;AAA3C;;AACJ,SAAKT,KAAK,CAACU,0BAAX;AACI,aAAOT,YAAY,CAACC,QAApB;;AACJ,SAAKF,KAAK,CAACW,yBAAX;AACQ,+BAAYR,KAAZ;AAAmBM,QAAAA,MAAM,EAAE,IAA3B;AAAiCG,QAAAA,WAAW,EAAE,CAAC,GAAGR,MAAM,CAACQ,WAAX;AAA9C;;AACR,SAAKZ,KAAK,CAACa,oBAAX;AAAiC;AAC7B,cAAMC,CAAC,GAAGX,KAAK,CAACS,WAAN,CAAkBG,OAAlB,CAA0BX,MAAM,CAACY,KAAjC,CAAV;AACA,YAAIC,cAAc,GAAG,CAAC,GAAGd,KAAK,CAACS,WAAV,CAArB;AACA,YAAIE,CAAC,GAAG,CAAR,EAAWG,cAAc,GAAG,CAAC,GAAGd,KAAK,CAACS,WAAV,EAAuBR,MAAM,CAACY,KAA9B,CAAjB;AACX,iCAAYb,KAAZ;AAAmBS,UAAAA,WAAW,EAAEK;AAAhC;AACH;;AACD,SAAKjB,KAAK,CAACkB,qBAAX;AAAkC;AAC9B,cAAMJ,CAAC,GAAGX,KAAK,CAACS,WAAN,CAAkBG,OAAlB,CAA0BX,MAAM,CAACY,KAAjC,CAAV;AACA,YAAIC,cAAc,GAAG,CAAC,GAAGd,KAAK,CAACS,WAAV,CAArB;AACA,YAAIE,CAAC,IAAI,CAAT,EAAYG,cAAc,GAAG,CAAE,GAAGd,KAAK,CAACS,WAAN,CAAkBO,KAAlB,CAAwB,CAAxB,EAA2BL,CAA3B,CAAL,EAAoC,GAAGX,KAAK,CAACS,WAAN,CAAkBO,KAAlB,CAAwBL,CAAC,GAAG,CAA5B,CAAvC,CAAjB;AACZ,iCAAYX,KAAZ;AAAmBS,UAAAA,WAAW,EAAEK;AAAhC;AACH;;AACD;AACI,aAAOd,KAAP;AAvBR;AAyBH","sourcesContent":["// Imports\nimport * as TYPES from '../types/SocketIoTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar las acciones sobre onlineUsers\n * @param {Array} state Chats\n * @param {Object} action Action\n */\nexport function socketIo(state = initialState.socketIo, action) {\n    switch (action.type) {\n        case TYPES.SOCKETIO_CONNECT: \n        case TYPES.SOCKETIO_DISCONNECT: \n            return initialState.socketIo;\n        case TYPES.SOCKETIO_CONNECTED_USER: \n            return { ...initialState.socketIo, online: true };\n        case TYPES.SOCKETIO_DISCONNECTED_USER: \n            return initialState.socketIo;\n        case TYPES.SOCKETIO_ALL_ONLINE_USERS:\n                return { ...state, online: true, onlineUsers: [...action.onlineUsers] };\n        case TYPES.SOCKETIO_ONLINE_USER: {\n            const i = state.onlineUsers.indexOf(action.login);\n            let auxOnlineUsers = [...state.onlineUsers];\n            if (i < 0) auxOnlineUsers = [...state.onlineUsers, action.login]\n            return { ...state, onlineUsers: auxOnlineUsers };\n        }\n        case TYPES.SOCKETIO_OFFLINE_USER: {\n            const i = state.onlineUsers.indexOf(action.login);\n            let auxOnlineUsers = [...state.onlineUsers];\n            if (i >= 0) auxOnlineUsers = [ ...state.onlineUsers.slice(0, i), ...state.onlineUsers.slice(i + 1) ];\n            return { ...state, onlineUsers: auxOnlineUsers };\n        }\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}