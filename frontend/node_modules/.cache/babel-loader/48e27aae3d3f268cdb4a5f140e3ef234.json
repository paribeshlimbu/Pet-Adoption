{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\keepcoding-wallaclone-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Imports\nimport * as TYPES from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n/**\n * Reducer para gestionar las acciones sobre la sesion de usuario\n * @param {Array} state Anuncios\n * @param {Object} action Action\n */\n\nexport function session(state = initialState.session, action) {\n  switch (action.type) {\n    case TYPES.LOGIN_FAILURE:\n    case TYPES.LOGIN_TOKEN_FAILURE:\n      return initialState.session;\n\n    case TYPES.LOGIN_SUCCESS:\n    case TYPES.LOGIN_TOKEN_SUCCESS:\n      return action.session;\n\n    case TYPES.EDIT_ACCOUNT_SUCCESS:\n      return _objectSpread({}, state, {\n        avatar: action.user.avatar,\n        email: action.user.email,\n        login: action.user.login,\n        name: action.user.name\n      });\n\n    case TYPES.LOGOUT_SUCCESS:\n    case TYPES.LOGOUT_FAILURE:\n      return initialState.session;\n\n    case TYPES.SET_FAVORITE_SUCCESS:\n      const i = state.favorites.indexOf(action.advert._id);\n      let favorites = [];\n\n      if (i >= 0 && !action.advert.favorite) {\n        favorites = [...state.favorites.slice(0, i), ...state.favorites.slice(i + 1)];\n      } else {\n        favorites = [...state.favorites, action.advert._id];\n      }\n\n      return _objectSpread({}, state, {\n        favorites: favorites\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:\\Users\\Administrator\\Downloads\\keepcoding-wallaclone-master\\frontend\\src\\store\\reducers\\SessionReducers.js"],"names":["TYPES","initialState","session","state","action","type","LOGIN_FAILURE","LOGIN_TOKEN_FAILURE","LOGIN_SUCCESS","LOGIN_TOKEN_SUCCESS","EDIT_ACCOUNT_SUCCESS","avatar","user","email","login","name","LOGOUT_SUCCESS","LOGOUT_FAILURE","SET_FAVORITE_SUCCESS","i","favorites","indexOf","advert","_id","favorite","slice"],"mappings":";;;;;;AAAA;AACA,OAAO,KAAKA,KAAZ,MAAuB,uBAAvB;AACA,SAASC,YAAT,QAA6B,iBAA7B;AAEA;;;;;;AAKA,OAAO,SAASC,OAAT,CAAkBC,KAAK,GAAGF,YAAY,CAACC,OAAvC,EAAgDE,MAAhD,EAAwD;AAC3D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKL,KAAK,CAACM,aAAX;AACA,SAAKN,KAAK,CAACO,mBAAX;AACI,aAAON,YAAY,CAACC,OAApB;;AACJ,SAAKF,KAAK,CAACQ,aAAX;AACA,SAAKR,KAAK,CAACS,mBAAX;AACI,aAAOL,MAAM,CAACF,OAAd;;AACJ,SAAKF,KAAK,CAACU,oBAAX;AACI,+BACOP,KADP;AAEIQ,QAAAA,MAAM,EAAEP,MAAM,CAACQ,IAAP,CAAYD,MAFxB;AAGIE,QAAAA,KAAK,EAAET,MAAM,CAACQ,IAAP,CAAYC,KAHvB;AAIIC,QAAAA,KAAK,EAAEV,MAAM,CAACQ,IAAP,CAAYE,KAJvB;AAKIC,QAAAA,IAAI,EAAEX,MAAM,CAACQ,IAAP,CAAYG;AALtB;;AAOJ,SAAKf,KAAK,CAACgB,cAAX;AACA,SAAKhB,KAAK,CAACiB,cAAX;AACI,aAAOhB,YAAY,CAACC,OAApB;;AACJ,SAAKF,KAAK,CAACkB,oBAAX;AACI,YAAMC,CAAC,GAAGhB,KAAK,CAACiB,SAAN,CAAgBC,OAAhB,CAAwBjB,MAAM,CAACkB,MAAP,CAAcC,GAAtC,CAAV;AACA,UAAIH,SAAS,GAAG,EAAhB;;AACA,UAAID,CAAC,IAAE,CAAH,IAAQ,CAACf,MAAM,CAACkB,MAAP,CAAcE,QAA3B,EAAqC;AACjCJ,QAAAA,SAAS,GAAG,CAAE,GAAGjB,KAAK,CAACiB,SAAN,CAAgBK,KAAhB,CAAsB,CAAtB,EAAyBN,CAAzB,CAAL,EAAkC,GAAGhB,KAAK,CAACiB,SAAN,CAAgBK,KAAhB,CAAsBN,CAAC,GAAG,CAA1B,CAArC,CAAZ;AACH,OAFD,MAEQ;AACJC,QAAAA,SAAS,GAAG,CAAE,GAAGjB,KAAK,CAACiB,SAAX,EAAsBhB,MAAM,CAACkB,MAAP,CAAcC,GAApC,CAAZ;AACH;;AACD,+BACOpB,KADP;AAEIiB,QAAAA,SAAS,EAAEA;AAFf;;AAIJ;AACI,aAAOjB,KAAP;AA/BR;AAiCH","sourcesContent":["// Imports\nimport * as TYPES from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar las acciones sobre la sesion de usuario\n * @param {Array} state Anuncios\n * @param {Object} action Action\n */\nexport function session (state = initialState.session, action) {\n    switch (action.type) {\n        case TYPES.LOGIN_FAILURE:\n        case TYPES.LOGIN_TOKEN_FAILURE:\n            return initialState.session;\n        case TYPES.LOGIN_SUCCESS:\n        case TYPES.LOGIN_TOKEN_SUCCESS:\n            return action.session;\n        case TYPES.EDIT_ACCOUNT_SUCCESS:\n            return {\n                ...state,\n                avatar: action.user.avatar,\n                email: action.user.email,\n                login: action.user.login,\n                name: action.user.name\n            }\n        case TYPES.LOGOUT_SUCCESS:\n        case TYPES.LOGOUT_FAILURE:\n            return initialState.session;\n        case TYPES.SET_FAVORITE_SUCCESS:\n            const i = state.favorites.indexOf(action.advert._id);\n            let favorites = []\n            if (i>=0 && !action.advert.favorite) {\n                favorites = [ ...state.favorites.slice(0, i), ...state.favorites.slice(i + 1) ];\n            }  else {\n                favorites = [ ...state.favorites, action.advert._id ];\n            }\n            return {\n                ...state,\n                favorites: favorites\n            }\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}