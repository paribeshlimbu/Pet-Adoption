{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\PetAdoption\\\\frontend\\\\src\\\\containers\\\\App\\\\App.js\";\n// NPM Modules\nimport React, { useEffect } from 'react';\nimport { ConnectedRouter } from 'connected-react-router';\nimport { Route, Switch } from 'react-router-dom';\nimport { Provider } from 'react-redux'; // Components\n\nimport PrivateRoute from '../../components/utils/PrivateRoute'; // Containers\n\nimport SectionList from '../SectionList';\nimport Detail from '../Detail';\nimport Edit from '../Edit';\nimport Login from '../Login';\nimport Register from '../Register';\nimport RequestReset from '../RequestReset';\nimport Reset from '../Reset';\nimport Profile from '../Profile';\nimport Home from '../Home';\nimport Error404 from '../Error404';\nimport Chats from '../Chats'; // Own modules\n\nimport { SessionActions } from '../../store/GlobalActions';\nimport configureStore, { history } from '../../store';\nimport { initialState } from '../../store/InitialState';\nimport SocketIo from '../../socketio/';\nimport LocalStorage from '../../utils/Storage'; // Models\n// Assets\n// CSS\n// APP Root Component\n\nexport default function App(props) {\n  // Destructure props\n  const enqueueSnackbar = props.enqueueSnackbar,\n        t = props.t; // Handle actions performed from a push notification\n\n  const handleNotifyAction = content => {\n    switch (content.action) {\n      case 'navigate':\n        // Accion de navegaciï¿½n\n        history.push(content.data);\n        break;\n\n      case 'delete':\n        // \n        store.dispatch(SessionActions.setFavorite(content.data)).then(() => {\n          enqueueSnackbar(t('pet deleted from favorites'), {\n            variant: 'success'\n          });\n          history.push('/favorites');\n        }).catch(error => enqueueSnackbar(t('Error deleting advert from favorites ERROR', {\n          error\n        }), {\n          variant: 'error'\n        }));\n        break;\n\n      case 'add':\n        // \n        store.dispatch(SessionActions.setFavorite(content.data)).then(() => {\n          enqueueSnackbar(t('pet added to favorites'), {\n            variant: 'success'\n          });\n          history.push('/favorites');\n        }).catch(error => enqueueSnackbar(t('Error deleting advert from favorites ERROR', {\n          error\n        }), {\n          variant: 'error'\n        }));\n        break;\n\n      default:\n        console.error('Uncontrolled action returned by service worker');\n    }\n  }; // New chats received\n\n\n  const notifyNewChats = user => {\n    enqueueSnackbar(t('Chat arrived USER', {\n      user\n    }), {\n      variant: 'success'\n    });\n  }; // Session storage\n\n\n  const session = LocalStorage.readLocalStorage(); // \n\n  const store = configureStore(initialState, handleNotifyAction, SocketIo, notifyNewChats); // Dispatch login in case of session in local storage\n\n  useEffect(() => {\n    if (session && session.jwt) {\n      store.dispatch(SessionActions.loginWithToken(session.jwt)).catch(error => enqueueSnackbar(error, {\n        variant: 'error'\n      }));\n    }\n  }, [store, session, enqueueSnackbar, t]); // Render\n\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(ConnectedRouter, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/login\",\n    exact: true,\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/register\",\n    exact: true,\n    component: Register,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/reset\",\n    exact: true,\n    component: RequestReset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/reset/:token\",\n    exact: true,\n    component: Reset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/activate/:token\",\n    exact: true,\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/published/:login\",\n    exact: true,\n    render: props => React.createElement(SectionList, Object.assign({}, props, {\n      listType: \"published\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/history\",\n    exact: true,\n    render: props => React.createElement(SectionList, Object.assign({}, props, {\n      listType: \"history\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/favorites\",\n    exact: true,\n    render: props => React.createElement(SectionList, Object.assign({}, props, {\n      listType: \"favorites\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/advert/create\",\n    exact: true,\n    render: props => React.createElement(Edit, Object.assign({}, props, {\n      mode: \"create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/advert/edit/:slug\",\n    exact: true,\n    render: props => React.createElement(Edit, Object.assign({}, props, {\n      mode: \"edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/chats/:id?\",\n    exact: true,\n    component: Chats,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(PrivateRoute, {\n    path: \"/profile\",\n    exact: true,\n    component: Profile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/advert/:slug\",\n    exact: true,\n    component: Detail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    component: Home,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }), React.createElement(Route, {\n    component: Error404,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\PetAdoption\\frontend\\src\\containers\\App\\App.js"],"names":["React","useEffect","ConnectedRouter","Route","Switch","Provider","PrivateRoute","SectionList","Detail","Edit","Login","Register","RequestReset","Reset","Profile","Home","Error404","Chats","SessionActions","configureStore","history","initialState","SocketIo","LocalStorage","App","props","enqueueSnackbar","t","handleNotifyAction","content","action","push","data","store","dispatch","setFavorite","then","variant","catch","error","console","notifyNewChats","user","session","readLocalStorage","jwt","loginWithToken"],"mappings":"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","sourcesContent":["// NPM Modules\nimport React, { useEffect } from 'react';\nimport { ConnectedRouter } from 'connected-react-router'\nimport { Route, Switch } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n// Components\nimport PrivateRoute from '../../components/utils/PrivateRoute';\n// Containers\nimport SectionList from '../SectionList';\nimport Detail from '../Detail';\nimport Edit from '../Edit';\nimport Login from '../Login';\nimport Register from '../Register';\nimport RequestReset from '../RequestReset';\nimport Reset from '../Reset';\nimport Profile from '../Profile';\nimport Home from '../Home';\nimport Error404 from '../Error404';\nimport Chats from '../Chats';\n// Own modules\nimport { SessionActions } from '../../store/GlobalActions';\nimport configureStore, { history } from '../../store';\nimport { initialState } from '../../store/InitialState';\nimport SocketIo from '../../socketio/';\nimport LocalStorage from '../../utils/Storage';\n// Models\n// Assets\n// CSS\n\n// APP Root Component\nexport default function App(props) {\n\n    // Destructure props\n    const { enqueueSnackbar, t } = props;\n\n    // Handle actions performed from a push notification\n    const handleNotifyAction = (content) => {\n        switch (content.action) {\n            case 'navigate':\n                // Accion de navegaciï¿½n\n                history.push(content.data)\n                break;\n            case 'delete':\n                // \n                store.dispatch(SessionActions.setFavorite(content.data))\n                    .then(() => {\n                        enqueueSnackbar(t('pet deleted from favorites'), { variant: 'success' });\n                        history.push('/favorites')\n                    })\n                    .catch(error => enqueueSnackbar(t('Error deleting advert from favorites ERROR', { error }), { variant: 'error' }));\n                break;\n            case 'add':\n                // \n                store.dispatch(SessionActions.setFavorite(content.data))\n                    .then(() => {\n                        enqueueSnackbar(t('pet added to favorites'), { variant: 'success' });\n                        history.push('/favorites')\n                    })\n                    .catch(error => enqueueSnackbar(t('Error deleting advert from favorites ERROR', { error }), { variant: 'error' }));\n                break;\n            default:\n                console.error('Uncontrolled action returned by service worker');\n        }\n    }\n\n    // New chats received\n    const notifyNewChats = user => {\n        enqueueSnackbar(t('Chat arrived USER', { user }), { variant: 'success' });\n    }\n\n    // Session storage\n    const session = LocalStorage.readLocalStorage();\n    // \n    const store = configureStore(initialState, handleNotifyAction, SocketIo, notifyNewChats);\n\n    // Dispatch login in case of session in local storage\n    useEffect(() => {\n        if (session && session.jwt) {\n            store.dispatch(SessionActions.loginWithToken(session.jwt))\n                .catch(error => enqueueSnackbar(error, { variant: 'error', }));\n        }\n    }, [store, session, enqueueSnackbar, t]);\n\n    // Render\n    return (\n        <Provider store={store}>\n            <ConnectedRouter history={history}>\n                <Switch>\n                    <Route path='/login' exact component={Login} />\n                    <Route path='/register' exact component={Register} />\n                    <Route path='/reset' exact component={RequestReset} />\n                    <Route path='/reset/:token' exact component={Reset} />\n                    <Route path='/activate/:token' exact component={Login} />\n                    <Route path='/published/:login' exact render={(props) => <SectionList {...props} listType='published' />} />\n                    <PrivateRoute path='/history' exact render={(props) => <SectionList {...props} listType='history' />} />\n                    <PrivateRoute path='/favorites' exact render={(props) => <SectionList {...props} listType='favorites' />} />\n                    <PrivateRoute path='/advert/create' exact render={(props) => <Edit {...props} mode='create' />} />\n                    <PrivateRoute path='/advert/edit/:slug' exact render={(props) => <Edit {...props} mode='edit' />} />\n                    <PrivateRoute path='/chats/:id?' exact component={Chats} />\n                    <PrivateRoute path='/profile' exact component={Profile} />\n                    <Route path='/advert/:slug' exact component={Detail} />\n                    <Route path='/' exact component={Home} />\n                    <Route component={Error404} />\n                </Switch>\n            </ConnectedRouter>\n        </Provider>\n    );\n}"]},"metadata":{},"sourceType":"module"}