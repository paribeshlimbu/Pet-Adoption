{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\keepcoding-wallaclone-master\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Downloads\\\\keepcoding-wallaclone-master\\\\frontend\\\\src\\\\components\\\\forms\\\\AdvertForm\\\\AdvertForm.js\";\n// NPM Modules\nimport React, { useState, useRef } from 'react';\nimport { Link } from \"react-router-dom\"; // Material UI\n\nimport EuroIcon from '@material-ui/icons/Euro';\nimport Button from '@material-ui/core/Button'; // Own components\n\nimport Form from '../Form';\nimport InputForm from '../InputForm';\nimport SelectForm from '../SelectForm';\nimport TextAreaForm from '../TextAreaForm';\nimport SelectMultipleForm from '../SelectMultipleForm'; // Models\n\nimport { ADVERT_CONSTANTS } from '../../../models/Advert'; // Own modules\n// Assets\n\nimport photoDefault from '../../../assets/images/product.png'; // CSS\n\nimport './styles.css'; // Formulario de perfil de usuario\n\nexport default function AdvertForm(props) {\n  // Props destructuring\n  const t = props.t;\n\n  const submit = inputs => {\n    if (fileTemp) {\n      inputs.file = fileTemp;\n      inputs.photo = '';\n      inputs.thumbnail = '';\n    }\n\n    props.onSubmit(inputs);\n  }; // Open input file\n\n\n  const openInputFile = () => refInputFile.current.click(); // Handle close modal\n\n\n  const refInputFile = useRef(undefined);\n\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        fileTemp = _useState2[0],\n        setFileTemp = _useState2[1];\n\n  const _useState3 = useState(props.advert.photo),\n        _useState4 = _slicedToArray(_useState3, 2),\n        photoTemp = _useState4[0],\n        setPhotoTemp = _useState4[1];\n\n  const changeInputFile = ev => {\n    ev.stopPropagation();\n    ev.preventDefault();\n    const aux = ev.target.files[0];\n    setFileTemp(aux);\n    setPhotoTemp(URL.createObjectURL(aux));\n  }; // Render\n\n\n  return React.createElement(Form, {\n    className: \"AdvertEditForm\",\n    onSubmit: submit,\n    initial: props.advert,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"AdvertEditForm__Photo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"AdvertEditForm__Photo--overlay\",\n    onClick: openInputFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, t('change advert photo')), React.createElement(\"input\", {\n    type: \"file\",\n    id: \"file\",\n    ref: refInputFile,\n    style: {\n      display: 'none'\n    },\n    onChange: changeInputFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    src: photoTemp || photoDefault,\n    alt: \"thumbnail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"AdvertEditForm__Inputs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(SelectForm, {\n    name: \"type\",\n    label: t('Type'),\n    options: [ADVERT_CONSTANTS.TYPE.BUY, ADVERT_CONSTANTS.TYPE.SELL],\n    initial: ADVERT_CONSTANTS.TYPE.SELL,\n    chip: \"type\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(InputForm, {\n    name: \"name\",\n    type: \"text\",\n    label: t('Name'),\n    maxLength: \"40\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(SelectMultipleForm, {\n    name: \"tags\",\n    label: t('Tags'),\n    options: props.tags,\n    initial: [],\n    chip: \"tag\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(InputForm, {\n    name: \"price\",\n    type: \"number\",\n    label: t('Price'),\n    required: true,\n    maxLength: 10,\n    endIcon: React.createElement(EuroIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(TextAreaForm, {\n    name: \"description\",\n    label: t('Description'),\n    placeholder: t('Enter an advert description'),\n    maxLength: \"150\",\n    required: true,\n    rows: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"AdvertEditForm__Buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \" \", props.t('Save'), \" \"), React.createElement(Button, {\n    type: \"button\",\n    variant: \"contained\",\n    color: \"secondary\",\n    component: Link,\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \" \", props.t('Cancel'), \" \")));\n}","map":{"version":3,"sources":["C:\\Users\\Administrator\\Downloads\\keepcoding-wallaclone-master\\frontend\\src\\components\\forms\\AdvertForm\\AdvertForm.js"],"names":["React","useState","useRef","Link","EuroIcon","Button","Form","InputForm","SelectForm","TextAreaForm","SelectMultipleForm","ADVERT_CONSTANTS","photoDefault","AdvertForm","props","t","submit","inputs","fileTemp","file","photo","thumbnail","onSubmit","openInputFile","refInputFile","current","click","undefined","setFileTemp","advert","photoTemp","setPhotoTemp","changeInputFile","ev","stopPropagation","preventDefault","aux","target","files","URL","createObjectURL","display","TYPE","BUY","SELL","tags"],"mappings":"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","sourcesContent":["// NPM Modules\nimport React, { useState, useRef } from 'react';\nimport { Link } from \"react-router-dom\";\n// Material UI\nimport EuroIcon from '@material-ui/icons/Euro';\nimport Button from '@material-ui/core/Button';\n// Own components\nimport Form from '../Form';\nimport InputForm from '../InputForm';\nimport SelectForm from '../SelectForm';\nimport TextAreaForm from '../TextAreaForm';\nimport SelectMultipleForm from '../SelectMultipleForm';\n// Models\nimport { ADVERT_CONSTANTS } from '../../../models/Advert';\n// Own modules\n// Assets\nimport photoDefault from '../../../assets/images/product.png';\n// CSS\nimport './styles.css';\n\n// Formulario de perfil de usuario\nexport default function AdvertForm(props) {\n   \n    // Props destructuring\n    const { t } = props;\n    const submit = (inputs) => {\n        if (fileTemp) {\n            inputs.file = fileTemp;\n            inputs.photo = '';\n            inputs.thumbnail = '';\n        }\n        props.onSubmit(inputs);\n    }\n\n    // Open input file\n    const openInputFile = () => refInputFile.current.click();\n  \n    // Handle close modal\n    const refInputFile = useRef(undefined);\n    const [fileTemp, setFileTemp] = useState();\n    const [photoTemp, setPhotoTemp] = useState(props.advert.photo);\n    const changeInputFile = (ev) => {\n        ev.stopPropagation();\n        ev.preventDefault();\n        const aux = ev.target.files[0];\n        setFileTemp(aux);\n        setPhotoTemp(URL.createObjectURL(aux));\n    }\n\n    // Render\n    return (\n        <Form className='AdvertEditForm' onSubmit={submit} initial={props.advert}>\n            <div className='AdvertEditForm__Photo'>\n                <span className='AdvertEditForm__Photo--overlay' onClick={openInputFile}>{t('change advert photo')}</span>\n                <input type='file' id='file' ref={refInputFile} style={{display: 'none'}} onChange={changeInputFile} />\n                <img src={photoTemp || photoDefault} alt='thumbnail'/>\n            </div>\n            <div className='AdvertEditForm__Inputs'>\n                <SelectForm name='type' label={t('Type')} options={[ADVERT_CONSTANTS.TYPE.BUY, ADVERT_CONSTANTS.TYPE.SELL]} initial={ADVERT_CONSTANTS.TYPE.SELL} chip='type' required/>\n                <InputForm name='name' type='text' label={t('Name')} maxLength={\"40\"} required/>\n                <SelectMultipleForm name='tags' label={t('Tags')} options={props.tags} initial={[]} chip='tag' required/>\n                <InputForm name='price' type='number' label={t('Price')} required maxLength={10} endIcon={<EuroIcon/>}/>\n                <TextAreaForm name='description' label={t('Description')} placeholder={t('Enter an advert description')} maxLength={\"150\"} required rows={2}/>\n            </div>\n            <div className='AdvertEditForm__Buttons'>\n                <Button type='submit' variant='contained' color='primary'> {props.t('Save')} </Button>\n                <Button type='button' variant='contained' color='secondary' component={Link} to='/'> {props.t('Cancel')} </Button>\n            </div>\n        </Form>\n    );\n}"]},"metadata":{},"sourceType":"module"}