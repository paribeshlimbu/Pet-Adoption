{"ast":null,"code":"// Models\nimport { ADVERT_CONSTANTS } from '../../models/Advert';\n/**\n* @param {Array} adverts \n* @param {Object} filters \n*/\n\nexport function getVisibleAdverts(adverts, filters) {\n  let visibleAdverts = adverts;\n\n  if (filters.name && filters.name !== '') {\n    filters.name = filters.name.toLowerCase();\n    visibleAdverts = visibleAdverts.filter(advert => advert.name.toLowerCase().includes(filters.name));\n  }\n\n  if (filters.tag && filters.tag !== ADVERT_CONSTANTS.TAG.ALL) {\n    visibleAdverts = visibleAdverts.filter(advert => advert.tags.indexOf(filters.tag) > -1);\n  }\n\n  if (filters.type && filters.type !== ADVERT_CONSTANTS.TYPE.ALL) {\n    visibleAdverts = visibleAdverts.filter(advert => advert.type === filters.type);\n  }\n\n  if (filters.minPrice && filters.minPrice > 0) {\n    visibleAdverts = visibleAdverts.filter(advert => advert.price >= filters.minPrice);\n  }\n\n  if (filters.maxPrice && filters.maxPrice > 0) {\n    visibleAdverts = visibleAdverts.filter(advert => advert.price <= filters.maxPrice);\n  }\n\n  return visibleAdverts;\n}\n/**\n* @param {Array} adverts Array \n* @param {Object} session Session \n*/\n\nexport function getOwnAdverts(adverts, session) {\n  return adverts.filter(advert => advert.user._id === session._id);\n}\n/**\n* @param {Array} adverts \n* @param {String} type \n*/\n\nexport function getAdvertsByType(adverts, type) {\n  return adverts.filter(advert => advert.type === type);\n}\n/**\n * @param {Array} adverts \n * @param {Function} getState \n */\n\nexport function getAdvertsWithFavoriteSet(adverts, getState) {\n  const _getState = getState(),\n        session = _getState.session;\n\n  if (session.favorites) {\n    return adverts.map(ad => {\n      ad.favorite = session.favorites.indexOf(ad._id) >= 0 ? true : false;\n      return ad;\n    });\n  }\n\n  return adverts;\n}","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\PetAdoption\\frontend\\src\\store\\selectors\\AdvertsSelectors.js"],"names":["ADVERT_CONSTANTS","getVisibleAdverts","adverts","filters","visibleAdverts","name","toLowerCase","filter","advert","includes","tag","TAG","ALL","tags","indexOf","type","TYPE","minPrice","price","maxPrice","getOwnAdverts","session","user","_id","getAdvertsByType","getAdvertsWithFavoriteSet","getState","favorites","map","ad","favorite"],"mappings":"AAAA;AACA,SAASA,gBAAT,QAAiC,qBAAjC;AAEA;;;;;AAIA,OAAO,SAASC,iBAAT,CAA2BC,OAA3B,EAAoCC,OAApC,EAA6C;AAChD,MAAIC,cAAc,GAAGF,OAArB;;AACA,MAAIC,OAAO,CAACE,IAAR,IAAgBF,OAAO,CAACE,IAAR,KAAiB,EAArC,EAAyC;AACrCF,IAAAA,OAAO,CAACE,IAAR,GAAeF,OAAO,CAACE,IAAR,CAAaC,WAAb,EAAf;AACAF,IAAAA,cAAc,GAAGA,cAAc,CAACG,MAAf,CAAsBC,MAAM,IAAIA,MAAM,CAACH,IAAP,CAAYC,WAAZ,GAA0BG,QAA1B,CAAmCN,OAAO,CAACE,IAA3C,CAAhC,CAAjB;AACH;;AACD,MAAIF,OAAO,CAACO,GAAR,IAAeP,OAAO,CAACO,GAAR,KAAgBV,gBAAgB,CAACW,GAAjB,CAAqBC,GAAxD,EAA6D;AACzDR,IAAAA,cAAc,GAAGA,cAAc,CAACG,MAAf,CAAsBC,MAAM,IAAIA,MAAM,CAACK,IAAP,CAAYC,OAAZ,CAAoBX,OAAO,CAACO,GAA5B,IAAmC,CAAC,CAApE,CAAjB;AACH;;AACD,MAAIP,OAAO,CAACY,IAAR,IAAgBZ,OAAO,CAACY,IAAR,KAAiBf,gBAAgB,CAACgB,IAAjB,CAAsBJ,GAA3D,EAAgE;AAC5DR,IAAAA,cAAc,GAAGA,cAAc,CAACG,MAAf,CAAsBC,MAAM,IAAIA,MAAM,CAACO,IAAP,KAAgBZ,OAAO,CAACY,IAAxD,CAAjB;AACH;;AACD,MAAIZ,OAAO,CAACc,QAAR,IAAoBd,OAAO,CAACc,QAAR,GAAmB,CAA3C,EAA8C;AAC1Cb,IAAAA,cAAc,GAAGA,cAAc,CAACG,MAAf,CAAsBC,MAAM,IAAIA,MAAM,CAACU,KAAP,IAAgBf,OAAO,CAACc,QAAxD,CAAjB;AACH;;AACD,MAAId,OAAO,CAACgB,QAAR,IAAoBhB,OAAO,CAACgB,QAAR,GAAmB,CAA3C,EAA8C;AAC1Cf,IAAAA,cAAc,GAAGA,cAAc,CAACG,MAAf,CAAsBC,MAAM,IAAIA,MAAM,CAACU,KAAP,IAAgBf,OAAO,CAACgB,QAAxD,CAAjB;AACH;;AACD,SAAOf,cAAP;AACH;AAED;;;;;AAIA,OAAO,SAASgB,aAAT,CAAuBlB,OAAvB,EAAgCmB,OAAhC,EAAyC;AAC5C,SAAOnB,OAAO,CAACK,MAAR,CAAeC,MAAM,IAAIA,MAAM,CAACc,IAAP,CAAYC,GAAZ,KAAoBF,OAAO,CAACE,GAArD,CAAP;AACH;AAED;;;;;AAIA,OAAO,SAASC,gBAAT,CAA0BtB,OAA1B,EAAmCa,IAAnC,EAAyC;AAC5C,SAAOb,OAAO,CAACK,MAAR,CAAeC,MAAM,IAAIA,MAAM,CAACO,IAAP,KAAgBA,IAAzC,CAAP;AACH;AAED;;;;;AAIA,OAAO,SAASU,yBAAT,CAAmCvB,OAAnC,EAA4CwB,QAA5C,EAAqD;AAAA,oBACpCA,QAAQ,EAD4B;AAAA,QAChDL,OADgD,aAChDA,OADgD;;AAExD,MAAIA,OAAO,CAACM,SAAZ,EAAuB;AACnB,WAAOzB,OAAO,CAAC0B,GAAR,CAAYC,EAAE,IAAI;AACrBA,MAAAA,EAAE,CAACC,QAAH,GAAcT,OAAO,CAACM,SAAR,CAAkBb,OAAlB,CAA0Be,EAAE,CAACN,GAA7B,KAAqC,CAArC,GAAyC,IAAzC,GAA+C,KAA7D;AACA,aAAOM,EAAP;AACH,KAHM,CAAP;AAIH;;AACD,SAAO3B,OAAP;AACH","sourcesContent":["// Models\nimport { ADVERT_CONSTANTS } from '../../models/Advert';\n\n/**\n* @param {Array} adverts \n* @param {Object} filters \n*/\nexport function getVisibleAdverts(adverts, filters) {\n    let visibleAdverts = adverts;\n    if (filters.name && filters.name !== '') {\n        filters.name = filters.name.toLowerCase();\n        visibleAdverts = visibleAdverts.filter(advert => advert.name.toLowerCase().includes(filters.name));\n    }\n    if (filters.tag && filters.tag !== ADVERT_CONSTANTS.TAG.ALL) {\n        visibleAdverts = visibleAdverts.filter(advert => advert.tags.indexOf(filters.tag) > -1);\n    }\n    if (filters.type && filters.type !== ADVERT_CONSTANTS.TYPE.ALL) {\n        visibleAdverts = visibleAdverts.filter(advert => advert.type === filters.type);\n    }\n    if (filters.minPrice && filters.minPrice > 0) {\n        visibleAdverts = visibleAdverts.filter(advert => advert.price >= filters.minPrice);\n    }\n    if (filters.maxPrice && filters.maxPrice > 0) {\n        visibleAdverts = visibleAdverts.filter(advert => advert.price <= filters.maxPrice);\n    }\n    return visibleAdverts;\n}\n\n/**\n* @param {Array} adverts Array \n* @param {Object} session Session \n*/\nexport function getOwnAdverts(adverts, session) {\n    return adverts.filter(advert => advert.user._id === session._id);\n}\n\n/**\n* @param {Array} adverts \n* @param {String} type \n*/\nexport function getAdvertsByType(adverts, type) {\n    return adverts.filter(advert => advert.type === type);\n}\n\n/**\n * @param {Array} adverts \n * @param {Function} getState \n */\nexport function getAdvertsWithFavoriteSet(adverts, getState){\n    const { session } = getState();\n    if (session.favorites) {\n        return adverts.map(ad => {\n            ad.favorite = session.favorites.indexOf(ad._id) >= 0 ? true: false;\n            return ad;\n        });\n    } \n    return adverts;\n}"]},"metadata":{},"sourceType":"module"}