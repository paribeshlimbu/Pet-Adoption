{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\PetAdoption\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Imports\nimport * as ADVERTS from '../types/AdvertsTypes';\nimport * as SESSION from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n/**\n * Reducer para gestionar las acciones sobre los anuncios de la app\n * @param {Array} state Anuncios\n * @param {Object} action Action\n */\n\nexport function adverts(state = initialState.adverts, action) {\n  switch (action.type) {\n    // Initialization\n    case ADVERTS.FETCH_ADVERTS_FAILURE:\n    case ADVERTS.SEARCH_ADVERTS_FAILURE:\n    case ADVERTS.FETCH_ITERATE_ADVERTS_FAILURE:\n    case ADVERTS.FETCH_FAVORITES_FAILURE:\n    case ADVERTS.FETCH_USER_ADVERTS_FAILURE:\n    case ADVERTS.FETCH_SOLD_HISTORY_FAILURE:\n      return initialState.adverts;\n    // Adverts related\n\n    case ADVERTS.FETCH_ADVERTS_SUCCESS:\n    case ADVERTS.SEARCH_ADVERTS_SUCCESS:\n    case ADVERTS.FETCH_ITERATE_ADVERTS_SUCCESS:\n    case ADVERTS.FETCH_FAVORITES_SUCCESS:\n    case ADVERTS.FETCH_USER_ADVERTS_SUCCESS:\n    case ADVERTS.FETCH_SOLD_HISTORY_SUCCESS:\n      return [...action.adverts];\n\n    case ADVERTS.CREATE_ADVERT_SUCCESS:\n      return [action.advert, ...state];\n\n    case ADVERTS.EDIT_ADVERT_SUCCESS:\n      {\n        const i = state.findIndex(ad => ad._id === action.advert._id);\n\n        if (i >= 0) {\n          return [...state.slice(0, i), action.advert, ...state.slice(i + 1)];\n        }\n\n        return state;\n      }\n\n    case ADVERTS.BOOK_ADVERT_SUCCESS:\n      {\n        const i = state.findIndex(ad => ad._id === action.advert._id);\n\n        if (i >= 0) {\n          const ad = _objectSpread({}, state[i]);\n\n          ad.booked = action.advert.booked;\n          return [...state.slice(0, i), ad, ...state.slice(i + 1)];\n        }\n\n        return state;\n      }\n\n    case ADVERTS.SELL_ADVERT_SUCCESS:\n      {\n        const i = state.findIndex(advert => advert._id === action.advert._id);\n        return [...state.slice(0, i), ...state.slice(i + 1)];\n      }\n\n    case ADVERTS.DELETE_ADVERT_SUCCESS:\n      {\n        const i = state.findIndex(advert => advert._id === action.advert._id);\n        return [...state.slice(0, i), ...state.slice(i + 1)];\n      }\n    // Favorites related\n\n    case SESSION.SET_FAVORITE_SUCCESS:\n      {\n        const i = state.findIndex(ad => ad._id === action.advert._id);\n\n        if (i >= 0) {\n          const ad = _objectSpread({}, state[i]);\n\n          ad.favorite = action.advert.favorite;\n          return [...state.slice(0, i), ad, ...state.slice(i + 1)];\n        }\n\n        return state;\n      }\n    // Logout\n\n    case SESSION.LOGOUT_SUCCESS:\n    case SESSION.LOGOUT_FAILURE:\n    case SESSION.DELETE_ACCOUNT_SUCCESS:\n      return initialState.adverts;\n    // Default\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:\\Users\\Administrator\\Desktop\\PetAdoption\\frontend\\src\\store\\reducers\\AdvertsReducers.js"],"names":["ADVERTS","SESSION","initialState","adverts","state","action","type","FETCH_ADVERTS_FAILURE","SEARCH_ADVERTS_FAILURE","FETCH_ITERATE_ADVERTS_FAILURE","FETCH_FAVORITES_FAILURE","FETCH_USER_ADVERTS_FAILURE","FETCH_SOLD_HISTORY_FAILURE","FETCH_ADVERTS_SUCCESS","SEARCH_ADVERTS_SUCCESS","FETCH_ITERATE_ADVERTS_SUCCESS","FETCH_FAVORITES_SUCCESS","FETCH_USER_ADVERTS_SUCCESS","FETCH_SOLD_HISTORY_SUCCESS","CREATE_ADVERT_SUCCESS","advert","EDIT_ADVERT_SUCCESS","i","findIndex","ad","_id","slice","BOOK_ADVERT_SUCCESS","booked","SELL_ADVERT_SUCCESS","DELETE_ADVERT_SUCCESS","SET_FAVORITE_SUCCESS","favorite","LOGOUT_SUCCESS","LOGOUT_FAILURE","DELETE_ACCOUNT_SUCCESS"],"mappings":"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","sourcesContent":["// Imports\nimport * as ADVERTS from '../types/AdvertsTypes';\nimport * as SESSION from '../types/SessionTypes';\nimport { initialState } from '../InitialState';\n\n/**\n * Reducer para gestionar las acciones sobre los anuncios de la app\n * @param {Array} state Anuncios\n * @param {Object} action Action\n */\nexport function adverts(state = initialState.adverts, action) {\n    switch (action.type) {\n        // Initialization\n        case ADVERTS.FETCH_ADVERTS_FAILURE:\n        case ADVERTS.SEARCH_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_ITERATE_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_FAVORITES_FAILURE:\n        case ADVERTS.FETCH_USER_ADVERTS_FAILURE:\n        case ADVERTS.FETCH_SOLD_HISTORY_FAILURE:\n            return initialState.adverts;\n        // Adverts related\n        case ADVERTS.FETCH_ADVERTS_SUCCESS:\n        case ADVERTS.SEARCH_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_ITERATE_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_FAVORITES_SUCCESS:\n        case ADVERTS.FETCH_USER_ADVERTS_SUCCESS:\n        case ADVERTS.FETCH_SOLD_HISTORY_SUCCESS:\n            return [...action.adverts];\n        case ADVERTS.CREATE_ADVERT_SUCCESS:\n            return [action.advert, ...state];\n        case ADVERTS.EDIT_ADVERT_SUCCESS: {\n            const i = state.findIndex(ad => ad._id === action.advert._id);\n            if (i >= 0) {\n                return [ ...state.slice(0, i), action.advert, ...state.slice(i + 1) ]\n            }\n            return state;\n        }\n        case ADVERTS.BOOK_ADVERT_SUCCESS: {\n            const i = state.findIndex(ad => ad._id === action.advert._id);\n            if (i >= 0) {\n                const ad = {...state[i]};\n                ad.booked = action.advert.booked;\n                return [ ...state.slice(0, i), ad, ...state.slice(i + 1) ]\n            }\n            return state;\n        }        \n        case ADVERTS.SELL_ADVERT_SUCCESS:  {\n            const i = state.findIndex(advert => advert._id === action.advert._id);\n            return [ ...state.slice(0, i), ...state.slice(i + 1) ];\n        }\n        case ADVERTS.DELETE_ADVERT_SUCCESS: {\n            const i = state.findIndex(advert => advert._id === action.advert._id);\n            return [ ...state.slice(0, i), ...state.slice(i + 1) ];\n        }\n        // Favorites related\n        case SESSION.SET_FAVORITE_SUCCESS: { \n            const i = state.findIndex(ad => ad._id === action.advert._id);\n            if (i >= 0) {\n                const ad = {...state[i]};\n                ad.favorite = action.advert.favorite;\n                return [ ...state.slice(0, i), ad, ...state.slice(i + 1) ]\n            }\n            return state;\n        }  \n        // Logout\n        case SESSION.LOGOUT_SUCCESS:\n        case SESSION.LOGOUT_FAILURE:\n        case SESSION.DELETE_ACCOUNT_SUCCESS:\n            return initialState.adverts;\n        // Default\n        default:\n            return state;\n    }\n}"]},"metadata":{},"sourceType":"module"}